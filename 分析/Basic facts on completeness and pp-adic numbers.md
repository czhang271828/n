# Basic facts on completeness and $p$-adic numbers

### Filter

##### Definition

We call the non-empty subfamily $\mathscr F\subset \mathcal P(X)$ a filter (滤子) whenever

* $A,B\in \mathscr F$ implies $A\cap B\in \mathscr F$ (downward closed),
* $A\in\mathscr F$ implies $\{U\in\mathcal P(X)\mid A\subset U\}\subset \mathscr F$ (upward closed),
* $\emptyset\notin \mathscr F$. 

**Example.** Let $\{x_n\}_{n\geq 1}$ be a sequence in $X$. Then
$$
\mathscr F:=\{E\subset X\mid \exists N\text{ s.t. }\{x_k\}_{k\geq N}\subset E\}.
$$
is a filter. 

**Ex1** $\forall (X,\tau)$, $\forall x_0\in X$ are given. Prove that $\{\text{neighbourhoods of }x_0\}$ is a filter. 

**Example.** For any partially ordered set $(P,\leqq)$, we define interval with endpoints $\alpha\leqq\beta$ as $[\alpha,\beta]:\{x\mid\alpha\leqq x\leqq\beta\}$. 

![image-20220624144233419](C:\Users\czhan\AppData\Roaming\Typora\typora-user-images\image-20220624144233419.png)

The topology generated by $\{[\alpha,\max]\}_{\alpha\in P}$ is called order filter.

The topology generated by $\{[\min,\alpha]\}_{\alpha\in P}$ is called order ideal.

**Ex2** Is the topology generated by order ideal (or order filter) a filter?

##### Basis of a filter

We call $\mathscr B\in \mathcal P(X)$ a basis of filter in $X$ whenever

* $\emptyset\notin \mathscr B$,
* $A,B\in\mathscr B$ implies $\exists C\in\mathscr B$ s.t. $C\subset A\cap B$. 

Compare such definition with topological basis.

We say a filter converges to a point ($\mathscr F\to x$) whenever each neighbourhood of $x$ contains some elements in $\mathscr F$. 

> Is $\{(-1-n^{-1},1+n^{-1})\}_{n\geq 1}$ a convergent filter in $(\mathbb R,\tau_{\text{standard}})$?

We say the $(X,\tau)$ is Hausdorff whenever each filter converges to at most one point. 

> Is $\{(-1-n^{-1},-1+n^{-1})\cap (1-n^{-1},1+n^{-1})\}_{n\geq 1}$ a convergent filter in quotient space $(\mathbb R,\tau_{\text{standard}})/(-1\sim 1)$? Is such quotient space Hausdorff?

For $f:X\to Y$, $\mathscr F$ is a filter in $X$. Set
$$
f\mathscr F:=\{F\subset Y\mid \exists E\in \mathscr F\text{ s.t. }f(E)\subset F\}.
$$
Then $f\mathscr F$ is also a filter in $Y$. The function $f$ is continuous whenever $f$ is continuous in filters. One can regard (convergent) filters as *generalised* (convergent) sequences.

**Ex3** Why convergence of filters seems "better" than convergence of sequences? (Hint: sequences can ill afford to discribe "uncountable cases". One may encounter something like net convergence in the study of completeness and sequencially completeness in functional analysis.)

##### Cauchy filter

We call $(G,+)$ an Abelian group whenever

1. $G$ is closed under the binary operation $+$, that is, 
   $$
   \forall a,b\in G,a+b\in G.
   $$

2. $G$​ admits associativity, that is, 
   $$
   \forall a,b,c\in G,(a+b)+c=a+(b+c)=:a+b+c.
   $$

3. $G$​ has a (additive) unit, that is, 
   $$
   \exists e\in G\text{ s.t. }\forall g\in G,g+e=e+g=g.
   $$

4. $\forall g\in G$ has an (additive) inverse, that is, 
   $$
   \forall g\in G,\exists \tilde g\in G\text{ s.t. }g+\tilde g=\tilde g+g=e.
   $$

5. $G$​ (additively) commutes, that is, 
   $$
   \forall a,b\in G,a+b=b+a.
   $$

**Ex4** Verify the uniqueness of $e$ and $\tilde g$. We write the inverse $\tilde g$ as $-g$, $a+(-b)$ as $a-b$ thenceforth. 

Write $\mathscr N_x$ as the set of all neighbourhoods of $x$. For $x\in G$ and $S\subset G$, define $x+S$ as $\{x+s\mid s\in S\}$. 

Let $(X,+)$ be Abelian group and also a Hausdorff space $(X,\tau)$ (e.g., $(\mathbb R,\tau_{\mathrm{standard}})$). Such $X$ is a object in the category $\mathbf{TopAb}$. Then

* $\exists e\in X$ s.t. $\mathscr N_e=-\mathscr N_e$.
* $\mathscr N_x=x+\mathscr N_0$. 

We call $\mathscr F$ a Cauchy filter in $\mathscr F$ whenever $\forall U\in \mathscr N_0$, $\exists E\in\mathscr F$ such that $E-E\subset U$. For instance, $\mathscr N_x$ is a Cauchy filter for arbitrary fixed $x\in X$. 

One can also regard Cauchy filters as *generalised* Cauchy sequences.

**Ex5** Verity that each convergent filter in above $X$ is always a Cauchy filter. 

### Completeness

##### Definition

Consider the injection $i:\mathbb Q\to \mathbb R, r\mapsto r$. Then 

* $\mathbb Q\to i(\mathbb Q)$ is a homeomorphism. 
* $i(\mathbb Q)$ is dense in $\mathbb R$. 
* $\mathbb R$ is complete in sense of Cauchy sequences, that is, each Cauchy sequence in $i(\mathbb Q)$ converges in $\mathbb R$. 

Completeness in general

The completeness of $A\in\mathrm{Obj}(\mathbf {TopAb})$ is a morphism $f\in \mathrm{Mor}(\mathbf{TopAb})$ such that

* $f:A\to f(A)$ is a homeomorphism. 
* $f(A)$ is dense in $\tilde A$.
* $\tilde A$ is complete in sense of Cauchy filters (either in $A$ or $\tilde A$), that is, each Cauchy filter converges to exactly one point in $\tilde A$. 

One may observe that for each continuous function $f\in C(\mathbb Q)$ , there exists a unique continuous function $\tilde f\in C(\mathbb R)$ such that $\tilde f|_{\mathbb Q}=f$. This is due to the universal property (the translation 泛性质 is often heard, e.g. 拥有学习能力系学生之泛性质) of completeness, i.e., for each morphism $f:A\to B$ in the category $\mathbf{TopAb}$ (or $\mathbf{TopRing}$), there exists unique $\tilde f$ such that the following diagram commutes

<center><img src="C:\Users\czhan\AppData\Roaming\Typora\typora-user-images\image-20220624161944277.png" alt="image-20220624161944277" style="zoom:40%;" /></center> 

**Ex6** Verify the completeness is unique in sense of homeomorphism. (It is quite hard). 

### Introduction of $p$-adic valuation

##### $p$-adic number

The standard absolute value $|\cdot|_\infty$ (or $|\cdot|$ for simplicity) is induced by the standard topology for $\mathbb R$ (and its subspaces). We say $x$ is close enough to $y$ whence $|x-y|_\infty\ll 1$.  

We shall define a new absolute value $|\cdot|_p$ on $\mathbb Q$, which is called $p$-adic absolute value, as follows.

The $p$-valuation of $d\in \mathbb  Z$ is defined by the powers of $p$ it contains, i.e., 
$$
v_p(d):=\sup\{n\in\mathbb Z\mid d\cdot p^{-n}\in \mathbb Z\}.
$$
One may observe $v_p(d_1d_2)=v_p(d_1)+v_p(d_2)$, thus the domain of $v_p$ can be extended to $\mathbb Q$. 

> Here $v_p(0)=v_p(0)+v_p(d)$ is well-defined since one can set $\infty +k=\infty$. 

Define $|r|_p:=p^{-v_p(r)}$ for $r\in\mathbb Q$. Here $|0|_p=p^{-\infty}=0$. 

For each $x\in \mathbb Q$​, there exists a unique $k_0\in\mathbb Z$ and unique factorisation
$$
x=\sum_{k\geq k_0}a_{k_0}p^{k_0},\quad a_k\in\{0,1,\ldots ,p-1\}. 
$$
Thus $v_p(x)=-k_0$ and $|x|_p=p^{k_0}$. Such factorisation is called the standard representation of $p$-adic numbers.

For instance, $|9|_3=3^{-2}$, $|28|_7=7^{-1}$. 

**Ex7** Prove that $|x+y|_p\leq\max(|x|_p,|y|_p)\leq |x|_p+|y|_p$ and determine when equality holds. As a corollary, the absolute value $|\cdot|_p$ is non-Archimedean. 

<img src="C:\Users\czhan\AppData\Roaming\Typora\typora-user-images\image-20220624170146251.png" alt="image-20220624170146251" style="zoom: 33%;" />

**Ex8** Define a family valuations for the field of rational functions such that we can determine the multiplicity of zeros and $\infty$'s on each point of $\mathbb R$, (or $\mathbb R\cup\{\infty\}$, $\mathbb C$, $\mathbb C\cup\{\infty\}$, whatever you like).

> Rational function takes the form of $\dfrac{f(x)}{g(x)}$, $f$ and $g$ are (finite) polynomials. e.g., $\dfrac{x^2+x-1}{x^3+2}$ is a rational function. 

##### The $p$-adic valuation on $\mathbb R$

There exists an extension of $p$-adic valuation on $\mathbb R$. We omit the proof since it requires the knowledge of abstract algebra. It requires the axiom of choice. 

##### Topology of $p$-adic number

Let $\mathbb Q_p$ denotes the topology of $\mathbb Q$ induced by $|\cdot|_p$. Since the metric is discrete, each open ball in $\mathbb Q_p$ is also closed. 

**Ex9** Prove that 

* $\mathbb Q_p$ is totally disconnected, whose only connected subspaces are singletons. 
* $p\mathbb Z$ is a compact subspace in $\mathbb Q_p$, thus $\mathbb Q_p$ is locally compact. 
* At most $p$ distinct points in $\mathbb Q_p$ are equidistant from each other.

[:link: This thesis](http://www.math.pitt.edu/~caw203/pdfs/Green--The_p-adic_numbers--UROP2018.pdf) on $p$-adic numbers is easy to read for beginners.

### Application: Monskey's theorem

It is not possible to dissect a square into an odd number of triangles of equal area.

> Here quadrilaterals with vetrex angled $180^\circ$ are NOT triangles. 

<center><img src="https://i.loli.net/2021/03/25/LJpf4zUbuIviSTP.png" alt="image-20210325154128976" style="zoom: 25%;" />

**Proof.** 

**Step I.** We shall first prove **Sperner's lemma** in dimension $2$, saying 

When colouring the vertices of a square among blue, red and green colours, then
$$
\begin{align*}
&\text{ number of \textcolor{red}{red}-\textcolor{green}{green} coloured edges on the boundary}\\
\equiv&\text{ number of \textcolor{red}{red}-\textcolor{green}{green}-\textcolor{blue}{blue} coloured squares}\mod 2.
\end{align*}
$$
For instance: 

<center><img src="https://i.loli.net/2021/03/25/DMdnlT9akrypCzj.png" alt="image-20210325154629916" style="zoom: 25%;" /> 
<img src="https://i.loli.net/2021/03/25/ZdRGnKtbAjLmWoy.png" alt="image-20210325155110077" style="zoom: 25%;" /> 
</center>
**Ex10** Proof Sperner's lemma by counting the $\blacksquare$ by edges and by triangles.

<img src="https://i.loli.net/2021/03/25/ZrdycgJvpV8bWqk.png" alt="image-20210325155547084" style="zoom:25%;" />

**Step II.** Consider the valuation $|\cdot|_2$ on $[0,1]^2\subset\mathbb R^2$. Colour $(x,y)\in [0,1]^2$ with

1. <font color =red>Red</font> whence $|x|_2<1\land |y|_2<1$,
2. <font color =green>Gre</font> whence $|x|_2\geq1\land |x|_2\geq|y|_2$,
3. <font color =blue>Blu</font> whence $|y|_2\geq1\land |x|_2<|y|_2$,

shown as follows: 

<center><img src="https://i.loli.net/2021/03/25/AL2R98kH7EViJyd.png" alt="image-20210325172600842" style="zoom:20%;" />    <img src="https://i.loli.net/2021/03/25/yaJdRlfxQ65zpPD.png" alt="image-20210325172810587" style="zoom:25%;" /></center>

**Step III.** For the sake of contradiction, we assume the existence of *the partition*. Then we coloured the vertices in accordance with **Step II.** As a result, there exists a $3$-coloured triangle (in light of Sperner's lemma). 

**Step IV.** Let $S$ denotes the area of each triangle. Let $\{(x_i,y_i)\}_{i=1,2,3}$ be vertices of any $3$-coloured triangle. Then
$$
|S|_2=\left|\dfrac{1}{2}\left|\begin{array}{ccc}1&1&1\\x_1&x_2&x_3\\y_1&y_2&y_3\\\end{array}\right|\right|_2=2\left|\left|\begin{array}{cc}x_2-x_1&x_3-x_1\\y_2-y_1&y_3-y_1\\\end{array}\right|\right|_2.
$$
Without the loss of generality, let $x_1=y_1=0$, and colour $(x_1,y_2)$, $(x_2,y_2)$ and $(x_3,y_3)$​ with <font color =red>Red</font> , <font color =blue>Blue</font>, <font color =green>Green</font> respectively. Therefore, 
$$
|S|_2=2|x_2y_3-x_3y_3|_2=2\max\{|x_2y_3|_2,|x_3y_2|_2\}\geq 2.
$$

> $|a+b|_p= \max\{|a|_p,|b|_p\}$ whenever $|a_p|\neq |b_p|$ when $a,b\in\mathbb Q$. Such equality still holds as we extend the valuation onto $\mathbb R$. 

When $S=\dfrac{1}{n}$ for odd $n$, $|S|_2=1<2$, which leads to a contradiction. 

$\square$ 

**Ex11** It is possible to dissect $[0,1]^n$ a into $m$ of triangles of equal area iff $n!\mid m$. 

**Ex12** It is possible to dissect regular $n$-polygon $(n\geq 5)$ into $m$ triangle of equal area iff $n\mid m$. 

**Ex13** It is impossible to dissect the convex hull of $\{(0,0),(\pi,0),(0,1),(1,1)\}$ in to any number of triangles of equal area. 
